# golang

## defer

### defer 实现机制

在面试问到了 defer 的时候，你要主动回答这些内容。它能让你拉开和面试者的差距。

defer 的内部实现分成三种机制：

• **堆上分配**：是指整个 defer 直接分配到堆上，缺点就是要被 GC 管理。
• **栈上分配**：整个 defer 分配到了 goroutine 栈上，不需要被 GC 管理。比堆上分配性能提升了
30%。
• **开放编码**（Open Code）：启用内联的优化，你直观理解就是相当于把你的 defer 内容放到
了你的函数最后。启用条件：
• 函数的 defer 数量少于或者等于 8 个；
• 函数的 defer 关键字不能在循环中执行；
• 函数的 return 语句与 defer 语句的乘积小于或者等于 15 个。

### 面试思路

你的回答要分成几个部分：
• defer 的作用
• defer 的底层实现原理。这算是你在初级工程师面试中刷亮点的地方：
• 堆上分配与栈上分配：这个地方你要尝试引导到内存逃逸、GO 性能优化这种话题上。
• 开放编码。



# MySQL

# Redis

# 计算机网络

# 操作系统